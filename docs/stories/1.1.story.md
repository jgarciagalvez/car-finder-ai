# <!-- Powered by BMAD™ Core -->

# Story 1.1: Project Initialization and Monorepo Setup

## Status
Done

## Story
**As a** user,
**I want** a new monorepo project initialized with the basic folder structure and configuration files,
**so that** I have a clean, organized foundation to start building the application.

## Acceptance Criteria
1. A new Turborepo project is initialized.
2. The root `package.json` is configured with workspaces for `apps` and `packages`.
3. A placeholder backend application (`apps/api`) and a shared types package (`packages/types`) are created.
4. Base TypeScript (`tsconfig.json`) and ESLint configurations are set up for the monorepo.

## Tasks / Subtasks
- [x] Initialize Turborepo project structure (AC: 1)
  - [x] Install Turborepo CLI and create new project
  - [x] Configure turbo.json for build pipeline
  - [x] Set up root package.json with workspace configuration
- [x] Configure monorepo workspace structure (AC: 2)
  - [x] Create apps/ directory structure
  - [x] Create packages/ directory structure
  - [x] Configure workspace references in root package.json
- [x] Create placeholder backend application (AC: 3)
  - [x] Initialize apps/api with basic Node.js structure
  - [x] Set up package.json for api application
  - [x] Create basic entry point file
- [x] Create shared types package (AC: 3)
  - [x] Initialize packages/types with TypeScript configuration
  - [x] Set up package.json for types package
  - [x] Create index.ts with basic type exports
- [x] Configure TypeScript for monorepo (AC: 4)
  - [x] Set up root tsconfig.json with project references
  - [x] Configure individual tsconfig.json files for each workspace
  - [x] Ensure proper TypeScript path mapping between packages
- [x] Configure ESLint for monorepo (AC: 4)
  - [x] Install ESLint and necessary plugins at root level
  - [x] Create root .eslintrc.js with base configuration
  - [x] Configure ESLint for each workspace with appropriate rules

## Dev Notes

### Previous Story Insights
No previous stories exist - this is the first story in the project.

### Monorepo Architecture
**Monorepo Tool:** Turborepo ~2.0.0 [Source: architecture.md#tech-stack]
**Structure:** The monorepo will contain `apps` (for the `web` UI and `api` backend) and `packages` (for shared code like `types` and `db` access) [Source: architecture.md#repository-structure]
**Package Organization:** Apps directory for applications, packages directory for shared libraries [Source: architecture.md#unified-project-structure]

### Technology Stack Requirements
**Language:** TypeScript ~5.5.0 - Primary language for all code [Source: architecture.md#tech-stack]
**Backend Runtime:** Node.js ~20.11.0 - Current Long-Term Support (LTS) version [Source: architecture.md#tech-stack]
**Monorepo Management:** Turborepo ~2.0.0 - Lightweight and fast monorepo tool [Source: architecture.md#tech-stack]

### Project Structure Specifications
**Root Structure:** 
```
/
├── apps/
│   ├── web/          (Next.js frontend - to be created in later stories)
│   └── api/          (Node.js backend - create in this story)
├── packages/
│   ├── types/        (Shared TypeScript types - create in this story)
│   ├── db/           (Database layer - to be created in later stories)
│   └── scripts/      (Orchestration scripts - to be created in later stories)
├── package.json      (Root workspace configuration)
├── turbo.json        (Turborepo pipeline configuration)
└── tsconfig.json     (Root TypeScript configuration)
```
[Source: architecture.md#unified-project-structure]

### File Locations for This Story
- **Root package.json:** Configure workspaces for apps/* and packages/*
- **apps/api/:** Placeholder Node.js backend application directory
- **packages/types/:** Shared TypeScript types package directory
- **turbo.json:** Turborepo build pipeline configuration
- **Root tsconfig.json:** Base TypeScript configuration with project references

### Technical Constraints
- **Node.js Version:** Use LTS version ~20.11.0 [Source: architecture.md#tech-stack]
- **TypeScript Version:** Use ~5.5.0 for type safety [Source: architecture.md#tech-stack]
- **Package Manager:** Use pnpm for workspace management (implied by Turborepo best practices)

### Development Workflow Integration
The development workflow will be managed via pnpm scripts: `pnpm dev` (starts the UI), `pnpm ingest` (runs the scraper), and `pnpm analyze` (runs AI processing) [Source: architecture.md#development-workflow]

### Key Developer Standards
- Use shared types from `packages/types` [Source: architecture.md#key-developer-standards]
- All DB access through the `packages/db` repository [Source: architecture.md#key-developer-standards]
- All frontend API calls through `lib/api.ts` [Source: architecture.md#key-developer-standards]
- API keys must be loaded from a `.env` file [Source: architecture.md#key-developer-standards]

## Testing

### Testing Standards
**Testing Framework:** Jest & RTL ~29.7.0 - The standard testing suite for Next.js/React [Source: architecture.md#tech-stack]
**Testing Strategy:** Unit Tests for complex functions and Integration Tests for core scraping/parsing logic [Source: architecture.md#technical-assumptions]

### Testing Requirements for This Story
- No specific testing requirements for initial project setup
- Ensure TypeScript compilation works across all workspaces
- Verify ESLint configuration is properly applied to all packages
- Test that workspace dependencies resolve correctly

### Test File Locations
- Tests will be co-located with source files using `.test.ts` or `.spec.ts` extensions
- Integration tests will be placed in appropriate workspace directories

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| Oct 4, 2025 | 1.0 | Initial story creation from Epic 1, Story 1.1 | Bob (SM) |

## Dev Agent Record

### Agent Model Used
Claude Sonnet 4 (via Cursor IDE)

### Debug Log References
No debug logs required - straightforward monorepo initialization

### Completion Notes List
- Successfully installed pnpm (10.18.0) and Turborepo (2.5.8)
- Created complete monorepo structure with apps/ and packages/ directories
- Configured Turborepo build pipeline with proper task dependencies
- Set up TypeScript project references for cross-package type sharing
- Implemented basic ESLint configuration (TypeScript linting handled via type-check)
- All builds successful, TypeScript compilation working across workspaces
- Workspace dependency resolution verified through successful builds

### File List
**Created Files:**
- `turbo.json` - Turborepo build pipeline configuration
- `package.json` - Root workspace configuration with pnpm workspaces
- `pnpm-workspace.yaml` - pnpm workspace configuration
- `tsconfig.json` - Root TypeScript configuration with project references
- `.eslintrc.js` - Root ESLint configuration
- `apps/api/package.json` - API application package configuration
- `apps/api/src/index.ts` - Basic Express server entry point
- `apps/api/tsconfig.json` - API TypeScript configuration
- `apps/api/.eslintrc.js` - API ESLint configuration
- `packages/types/package.json` - Types package configuration
- `packages/types/src/index.ts` - Shared TypeScript type definitions
- `packages/types/tsconfig.json` - Types TypeScript configuration
- `packages/types/.eslintrc.js` - Types ESLint configuration

**Created Directories:**
- `apps/` - Applications directory
- `apps/api/` - Backend API application
- `apps/api/src/` - API source code
- `packages/` - Shared packages directory
- `packages/types/` - Shared TypeScript types
- `packages/types/src/` - Types source code

## QA Results
*Results from QA Agent review will be populated here after story completion*
